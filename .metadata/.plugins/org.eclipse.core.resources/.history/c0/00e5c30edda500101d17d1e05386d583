package com.news.feed.ak.config;

import org.springframework.context.annotation.Configuration;

@Configuration
public class KafkaProducerConfig {
	@Bean
	public ProducerFactory<String, String> producerFactory() {
	Map<String, Object> config = new HashMap<>();
	config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,
	System.getenv().getOrDefault("KAFKA_BOOTSTRAP_SERVERS", "localhost:9092"));
	config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,
	StringSerializer.class);
	config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,
	StringSerializer.class);
	return new DefaultKafkaProducerFactory<>(config);
	}
	@Bean
	public KafkaTemplate<String, String> kafkaTemplate() {
	return new KafkaTemplate<>(producerFactory());
	}
}
